webpackJsonp([3],{RhBm:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("2hMI"),n={data:function(){return{closeGetDataFlag:!1,dataStatics:{lastMonthCount:0,thisMonthCount:0,totalCount:0,unusableCount:0,useableCount:0},phone:"",IDusedList:[],pageSize:10,currentPage:1,totalCount:0,IDusedVisible:!1,createIDusedForm:{phone:"",trialAccount:""},rules:{phone:[{required:!0,message:"请输入代理名称",trigger:"change"}],trialAccount:[{required:!0,message:"请输入代理id",trigger:"change"}]}}},created:function(){this.getStatistics(),this.getTrialAccounts(this.currentPage,this.pageSize)},methods:{getStatistics:function(){var t=this;Object(s.f)().then(function(e){1==e.code?t.dataStatics=e.data:t.$message.warning("查询试用ID数据统计异常~")}).catch(function(e){t.$message.warning("查询试用ID数据统计异常~")})},getTrialAccounts:function(t,e){var a=this;Object(s.g)({page:t,limit:e}).then(function(t){1==t.code?(a.IDusedList=t.data.trialAccountsList,a.totalCount=t.data.totalCount):a.$message.warning("查询试用ID列表数据异常~")}).catch(function(t){a.$message.warning("查询试用ID列表数据异常~")})},getRowClass:function(t){t.row,t.column;var e=t.rowIndex;t.columnIndex;return 0==e?"background:#409eff;color:#fff":""},closeModel:function(t){this.resetForm("ruleForm"),this.closeGetDataFlag&&this.getTrialAccounts(this.currentPage,this.pageSize)},createID:function(){var t=this;this.closeGetDataFlag=!1,this.IDusedVisible=!0,Object(s.a)().then(function(e){1==e.code?t.createIDusedForm.trialAccount=e.data:(t.IDusedVisible=!1,t.$message.warning("试用ID生成异常，请稍后重试~"))}).catch(function(e){t.IDusedVisible=!1,t.$message.warning("试用ID生成异常，请稍后重试~")})},handleRunlist:function(t){this.currentPage=t,this.getTrialAccounts(t,this.pageSize)},submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;Object(s.h)(e.createIDusedForm).then(function(t){1==t.code?(e.closeGetDataFlag=!0,e.IDusedVisible=!1):e.$message.success("创建异常，请稍后再试")}).catch(function(t){e.$message.success("创建异常，请稍后再试")})})},resetForm:function(t){this.$refs[t].resetFields()}}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"IDused"},[a("el-row",{staticClass:"IDused-module bg-shadow",attrs:{gutter:20}},[a("el-col",{attrs:{span:3}},[a("div",{staticClass:"num"},[t._v("试用ID总数："+t._s(t.dataStatics.totalCount))])]),t._v(" "),a("el-col",{attrs:{span:3}},[a("div",{staticClass:"num"},[t._v("正常ID数量："+t._s(t.dataStatics.useableCount))])]),t._v(" "),a("el-col",{attrs:{span:3}},[a("div",{staticClass:"num"},[t._v("停用ID数量数："+t._s(t.dataStatics.unusableCount))])]),t._v(" "),a("el-col",{attrs:{span:3}},[a("div",{staticClass:"num"},[t._v("上月试用次数："+t._s(t.dataStatics.lastMonthCount))])]),t._v(" "),a("el-col",{attrs:{span:3}},[a("div",{staticClass:"num"},[t._v("本月试用次数："+t._s(t.dataStatics.thisMonthCount))])])],1),t._v(" "),a("div",{staticClass:"line-l bg-shadow"},[a("el-button",{attrs:{size:"mini",type:"success"},nativeOn:{click:function(e){return t.createID(e)}}},[t._v("创建试用ID")])],1),t._v(" "),a("el-table",{ref:"multipleTable",staticClass:"IDusedListData bg-shadow",attrs:{"header-row-class-name":"myTablee","header-cell-style":t.getRowClass,fit:!0,border:"",stripe:"",data:t.IDusedList,"tooltip-effect":"dark"}},[a("el-table-column",{attrs:{"row-class-name":"rdd",align:"center","header-align":"center",type:"index",width:"60",label:"编号"}}),t._v(" "),a("el-table-column",{attrs:{align:"center","header-align":"center",prop:"account",label:"代理名称","min-width":"140","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.phone))]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center","header-align":"center",prop:"deadline",label:"试用ID","min-width":"140","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(e.row.trialAcount)+"\n            ")]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center","header-align":"center",prop:"num",label:"最近使用时间","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s(t._f("translateToDate")(e.row.updateTime))+"\n            ")]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center","header-align":"center",prop:"status",label:"账号状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(0==e.row.useable?"不可用":"可用")+"\n            ")]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center","header-align":"center",prop:"action",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.useable?a("el-button",{attrs:{size:"mini",type:"primary"}},[t._v("启动")]):a("el-button",{attrs:{size:"mini",type:"danger"}},[t._v("停止")])]}}])})],1),t._v(" "),a("el-pagination",{staticClass:"pages bg-shadow",attrs:{"page-size":t.pageSize,background:"","current-page":t.currentPage,layout:"total,prev, pager, next",total:t.totalCount},on:{"current-change":t.handleRunlist}}),t._v(" "),a("el-dialog",{attrs:{title:"创建试用ID","close-on-click-modal":!1,visible:t.IDusedVisible},on:{"update:visible":function(e){t.IDusedVisible=e},close:t.closeModel}},[a("div",{staticClass:"handleArea"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.createIDusedForm,rules:t.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"试用ID",prop:"trialAccount"}},[a("el-input",{attrs:{placeHoleder:"请输入ID",disabled:""},model:{value:t.createIDusedForm.trialAccount,callback:function(e){t.$set(t.createIDusedForm,"trialAccount",e)},expression:"createIDusedForm.trialAccount"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"代理名称",prop:"phone"}},[a("el-input",{attrs:{placeHoleder:"请输入代理名称"},model:{value:t.createIDusedForm.phone,callback:function(e){t.$set(t.createIDusedForm,"phone",e)},expression:"createIDusedForm.phone"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("ruleForm")}}},[t._v("立即创建")]),t._v(" "),a("el-button",{on:{click:function(e){t.resetForm("ruleForm")}}},[t._v("重置")])],1)],1)],1)])],1)},staticRenderFns:[]};var o=a("VU/8")(n,l,!1,function(t){a("zUFD")},null,null);e.default=o.exports},zUFD:function(t,e){}});